{{ define "base" }}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark">
  <meta name="theme-color" content="#0d6efd">
  <title>{{ block "title" . }}{{ if .Meta.Title }}{{ .Meta.Title }}{{ else }}Time Tracking System{{ end }}{{ end }}</title>

  <!-- Bootstrap (stable) + Icons + Google Font -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- App styles -->
  <link href="/static/styles.css" rel="stylesheet">
</head>
<body class="d-flex flex-column min-vh-100">

  <a class="visually-hidden-focusable position-absolute top-0 start-0 m-3 btn btn-light btn-sm" href="#main">Skip to content</a>

  {{ template "header" . }}

  <main id="main" class="container py-4">
    {{ block "content" . }}
      <p>Default contentâ€¦</p>
    {{ end }}
  </main>

  {{ template "footer" . }}

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Set active nav link based on current path
    document.addEventListener('DOMContentLoaded', function () {
      const path = location.pathname.replace(/\/$/, '') || '/';
      document.querySelectorAll('.navbar-nav .nav-link').forEach(a => {
        const href = a.getAttribute('href');
        if (!href) return;
        const cleaned = href.replace(/\/$/, '') || '/';
        if (cleaned === path) a.classList.add('active');
      });
    });
  </script>
</body>
</html>
{{ end }}
